import{n,u as b,v as G,r as T,j as e,w as H,x as _,y as J,z as K,A as Q,B as E,C as X,D as O}from"./index-03762d3c.js";import{S as I}from"./react-select.esm-1b20662c.js";import{s as Y,a as Z,b as D,c as V,d as ee,P as ie}from"./PageTitle-cf0557c0.js";import{c as q,a as w,e as ne,u as te,F as oe,f as re}from"./index.esm-da8bfee9.js";import{H as ae,a as se,F as le}from"./Header-3b1125ff.js";import"./assertThisInitialized-3cd64e6a.js";const de=n.div`
  width: 100%;
  max-width: 335px;
  margin-left: auto;
  margin-right: auto;
  padding: 80px 20px;
  background-image: linear-gradient(
    to top left,
    #000 45%,
    rgb(22, 31, 55),
    rgba(64, 112, 205, 0.5)
  );
  @media only screen and (min-width: 768px) {
    padding: 140px 32px;
    max-width: 704px;
    @media only screen and (min-width: 1440px) {
      padding: 160px 100px;
      max-width: 1240px;
    }
  }
`,ce=n.div`
  display: flex;
  flex-direction: column;
  row-gap: 80px;
  column-gap: 94px;
  margin-bottom: 20px;
  @media only screen and (min-width: 768px) {
    margin-bottom: 24px;
    @media only screen and (min-width: 1440px) {
      flex-direction: row;
    }
  }
`,pe=n.div`
  margin-bottom: 20px;
  @media only screen and (min-width: 768px) {
    margin-bottom: 24px;
  }
`,xe=n.h3`
  font-weight: 500;
  font-size: 18px;
  line-height: calc(24 / 18);
  letter-spacing: 0;
  color: #f3f3f3;
  @media only screen and (min-width: 768px) {
    font-size: 24px;
    line-height: calc(32 / 24);
  }
`,ge=n.div`
  @media only screen and (min-width: 768px) {
    max-width: 704px;
    @media only screen and (min-width: 1440px) {
      max-width: 833px;
    }
  }
`,he=n.button`
  padding: 14px 40px;
  color: #161f37;
  font-size: 14px;
  font-weight: 600;
  line-height: calc(18 / 14);
  letter-spacing: 0;
  border: 0 solid transparent;
  border-radius: 42px;
  background-color: #f3f3f3;
  @media only screen and (min-width: 768px) {
    font-size: 16px;
    line-height: calc(18 / 16);
    padding: 18px 44px;
  }
`,me=n.div`
  margin-bottom: 80px;
  display: flex;
  flex-direction: row;
  flex-wrap: wrap;
  row-gap: 40px;

  @media only screen and (min-width: 768px) {
    column-gap: 32px;
    @media only screen and (min-width: 1440px) {
      column-gap: 40px;
      width: 833px;
    }
  }
`,fe=n.div`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  width: 335px;
  height: 320px;
  border-radius: 8px;
  background-color: rgba(22, 31, 55, 0.5);
  background-size: cover;
  background-image: ${({uri:o})=>o?`url(${o})`:"none"};
  @media only screen and (min-width: 768px) {
    width: 320px;
    height: 320px;
    @media only screen and (min-width: 1440px) {
      width: 400px;
      height: 400px;
    }
  }
`,ue=n.div`
  display: flex;
  flex-direction: column;
  justify-content: center;
  gap: 18px;
  align-items: center;
`,be=n.div`
  position: relative;
  top: 40%;
  display: flex;
  gap: 170px;
  align-items: center;
  font-weight: bold;
  color: rgba(243, 243, 243, 0.75);
`,$=n.label`
  width: 70px;
  text-align: center;
  font-weight: bold;
  color: rgba(243, 243, 243, 0.75);
  cursor: pointer;
`,ye=n.label`
  display: flex;
  justify-content: center;
  align-items: center;
  width: 50px;
  height: 50px;
  font-size: 40px;
  font-weight: bold;
  background-color: #f3f3f3;
  color: #161f37;
  border-radius: 6px;
  cursor: pointer;
`,R=n.input`
  display: none;
`,we=n.span`
  font-size: 16px;
  font-weight: medium;
  line-height: 1.25;
  color: #f3f3f3;
`,je=n.div`
  margin-bottom: 40px;
  display: flex;
  flex-direction: column;
  gap: 31px;
  letter-spacing: -0.02em;
  width: 335px;
  @media only screen and (min-width: 768px) {
    width: 352px;
    @media only screen and (min-width: 1440px) {
      width: 393px;
      gap: 40px;
    }
  }
`,P=n.div``,U=n.input`
  background-color: inherit;
  font-size: 14px;
  color: #f3f3f3;
  letter-spacing: -0.02em;
  outline: none;
  border: none;
  @media only screen and (min-width: 768px) {
    font-size: 16px;
  }
`,z=n.div`
  display: flex;
  height: 14px;
  font-size: 12px;
  line-height: calc(14 / 12);
  letter-spacing: 0;
  color: #da1414;
  border-bottom: 1px solid rgba(243, 243, 243, 0.5);
  @media only screen and (min-width: 768px) {
    height: 18px;
    font-size: 14px;
  }
`,W=n.div`
  background-color: inherit;
  color: #f3f3f3;
`,N=n.div`
  position: relative;
  display: flex;
  justify-content: space-between;
  align-items: center;
`,L=n.span`
  font-size: 14px;
  font-weight: 400;
  letter-spacing: -0.02em;
  color: rgba(243, 243, 243, 0.5);
  @media only screen and (min-width: 768px) {
    font-size: 16px;
  }
`,ve=n.div`
  display: flex;
  gap: 14px;
  color: #f3f3f3;
  font-size: 14px;
  letter-spacing: -0.02em;
  @media only screen and (min-width: 768px) {
    font-size: 16px;
  }
`,B=n.input`
  :checked {
    box-sizing: content-box;
    width: 10px;
    height: 10px;
    background-color: #f3f3f3;
    border: 3px solid black;
    outline: 1.3px ridge #f3f3f3;
    @media only screen and (min-width: 768px) {
      width: 12px;
      height: 12px;
      border: 3px solid black;
      outline: 2px ridge #f3f3f3;
    }
  }
  appearance: none;
  border-radius: 50%;
  width: 16px;
  height: 16px;
  border: 1.3px solid rgba(243, 243, 243, 0.5);
  margin-right: 4px;
  margin-left: 0;
  position: relative;
  top: 3px;
  @media only screen and (min-width: 768px) {
    width: 18px;
    height: 18px;
  }
`,ke=n.div`
  margin-bottom: 20px;
  position: relative;
`,ze=n.h2`
  margin-bottom: 40px;
  font-size: 28px;
  line-height: calc(32 / 28);
  @media only screen and (min-width: 768px) {
    font-size: 40px;
    line-height: calc(44 / 40);
  }
  letter-spacing: 0;
  color: #f3f3f3;
`,De=n.div`
  position: relative;
`,Se=n.textarea`
  position: relative;
  padding: 16px 18px;
  width: 100%;
  height: 184px;
  font-size: 14px;
  line-height: calc(18 / 14);
  letter-spacing: 0;
  background-color: inherit;
  color: rgba(243, 243, 243, 1);
  border: 1px solid rgba(243, 243, 243, 0.5);
  border-radius: 14px;
  box-sizing: border-box;
  @media only screen and (min-width: 768px) {
    padding: 14px 24px;
    width: 480px;
    font-size: 17px;
    line-height: 1.56;
  }
`,Te=n.span`
  margin-left: 18px;
  position: absolute;
  top: 38px;
  font-size: 14px;
  line-height: calc(18 / 14);
  letter-spacing: 0;
  color: rgba(243, 243, 243, 0.5);
  @media only screen and (min-width: 768px) {
    top: 46px;
    margin-left: 24px;
    font-size: 17px;
    line-height: 1.56;
  }
`,Ie=n.p`
  margin-left: 18px;
  display: flex;
  align-items: center;
  position: absolute;
  top: 48px;
  font-size: 12px;
  line-height: calc(14 / 12);
  letter-spacing: 0;
  color: #da1414;
  @media only screen and (min-width: 768px) {
    top: 58px;
    margin-left: 24px;
    font-size: 14px;
    line-height: calc(18 / 14);
  }
`,k=n.span`
  margin-left: 10px;
  display: flex;
  align-content: center;
  justify-content: center;
  flex-wrap: wrap;
  width: 10px;
  height: 10px;
  border: 1px solid #da1414;
  border-radius: 50%;
  @media only screen and (min-width: 768px) {
    width: 12px;
    height: 12px;
  }
`,S=o=>Date.now()-new Date(o).getTime()>1e3*31556926*18,Ae="/DrinkMaster/assets/dummyDrinkThumb-2c11fe96.png",Ce=({setFile:o,onChangeHandler:c,setFieldValue:r,errors:p})=>{const l=b(Y),m=b(Z),h=b(D).form,f=b(G);S(f.birthday)===!1&&h.alcoholic==="Alcoholic"&&c("Non alcoholic","alcoholic");const[u,x]=T.useState(),t=i=>i.map(g=>({value:g,label:g})),a=i=>{if(!i.target.files[0].type.startsWith("image/")){console.log("Please, upload image-type file, e.g. '.jpeg', '.png'");return}o(i.target.files[0]),x(URL.createObjectURL(i.target.files[0]))};return e.jsxs(me,{children:[e.jsx(fe,{uri:u,children:u?e.jsxs(be,{children:[e.jsx($,{onClick:()=>{o(),x(Ae)},children:"Without image"}),e.jsxs($,{children:["Change",e.jsx(R,{type:"file",id:"input",name:"drinkThumb",accept:"image/*",onChange:i=>a(i)})]})]}):e.jsxs(ue,{children:[e.jsxs(ye,{children:["+",e.jsx(R,{type:"file",id:"input",name:"drinkThumb",accept:"image/*",onChange:i=>a(i)})]}),e.jsx(we,{children:"Add image"})]})}),e.jsxs("div",{children:[e.jsxs(je,{children:[e.jsxs(P,{children:[e.jsx(U,{type:"text",name:"drink",placeholder:"Enter item title",title:"Enter item title",value:h.drink,onChange:i=>{r("drink",i.target.value),c(i.target.value,i.target.name)}}),e.jsxs(z,{children:[p.drink,p.drink&&e.jsx(k,{children:"!"})]})]}),e.jsxs(P,{children:[e.jsx(U,{type:"text",name:"description",placeholder:"Enter about recipe",title:"Enter about recipe",value:h.description,onChange:i=>{r("description",i.target.value),c(i.target.value,i.target.name)}}),e.jsxs(z,{children:[p.description,p.description&&e.jsx(k,{children:"!"})]})]}),e.jsxs(W,{children:[e.jsxs(N,{children:[e.jsx(L,{children:"Category"}),e.jsx(I,{styles:{dropdownIndicator:(i,g)=>({...i,transform:g.selectProps.menuIsOpen&&"rotate(180deg)"}),control:(i,g)=>({...i,background:"inherit",border:"none",fontSize:"14px",fontWeight:"regular",color:"#f3f3f3",cursor:"pointer"}),menu:i=>({...i,width:"131px",right:"0px",backgroundColor:"#161f37",border:"0px solid transparent",borderRadius:"12px"}),indicatorSeparator:i=>({...i,display:"none"}),option:(i,{isFocused:g,isSelected:y})=>({...i,fontSize:"14px",lineHeight:"1.33",background:"transparent",zIndex:1,color:g?"rgba(243, 243, 243, 0.75)":y?"#f3f3f3":"rgba(243, 243, 243, 0.4)"})},name:"category",options:t(l),value:h.category===""?null:{value:h.category,label:h.category},defaultValue:t(l)[1],onChange:i=>{r("category",i.value),c(i.value,"category")}})]}),e.jsxs(z,{children:[p.category,p.category&&e.jsx(k,{children:"!"})]})]}),e.jsxs(W,{children:[e.jsxs(N,{children:[e.jsx(L,{children:"Glass"}),e.jsx(I,{styles:{dropdownIndicator:(i,g)=>({...i,transform:g.selectProps.menuIsOpen&&"rotate(180deg)"}),control:(i,g)=>({...i,background:"inherit",border:"none",fontSize:"14px",fontWeight:"400",color:"#f3f3f3",cursor:"pointer"}),menu:i=>({...i,width:"131px",right:"0px",backgroundColor:"#161f37",border:"0px solid transparent",borderRadius:"12px"}),indicatorSeparator:i=>({...i,display:"none"}),option:(i,{isFocused:g,isSelected:y})=>({...i,fontSize:"14px",lineHeight:"1.33",background:"transparent",color:g?"rgba(243, 243, 243, 0.75)":y?"#f3f3f3":"rgba(243, 243, 243, 0.4)"})},name:"glass",options:t(m),value:h.glass===""?null:{value:h.glass,label:h.glass},defaultValue:t(m)[0],onChange:i=>{r("glass",i.value),c(i.value,"glass")}})]}),e.jsxs(z,{children:[p.glass,p.glass&&e.jsx(k,{children:"!"})]})]})]}),e.jsxs(ve,{children:[e.jsxs("label",{style:{opacity:h.alcoholic==="Alcoholic"?"1":"0.5",cursor:"pointer"},children:[e.jsx(B,{type:"radio",value:"Alcoholic",name:"alcoholic",checked:h.alcoholic==="Alcoholic",onChange:i=>{r("alcoholic",i.target.value),c(i.target.value,"alcoholic")},disabled:!S(f.birthday)}),"Alcoholic"]}),e.jsxs("label",{style:{opacity:h.alcoholic==="Non alcoholic"?"1":"0.5",cursor:"pointer"},children:[e.jsx(B,{type:"radio",value:"Non alcoholic",name:"alcoholic",checked:S(f.birthday)===!1||h.alcoholic==="Non alcoholic",onChange:i=>{r("alcoholic",i.target.value),c(i.target.value,"alcoholic")}}),"Non-alcoholic"]})]})]})]})},Fe=n.div`
  margin-bottom: 80px;
`,Ee=n.div`
  display: flex;
  justify-content: space-between;
  margin-bottom: 40px;
`,Oe=n.h2`
  font-size: 28px;
  line-height: calc(32 / 28);
  letter-spacing: 0;
  color: #f3f3f3;
`,qe=n.div`
  padding: 0px 12px;
  height: 38px;
  display: flex;
  gap: 12px;
  line-height: calc(18 / 14);
  align-items: center;
  border: 1px solid rgba(243, 243, 243, 0.5);
  border-radius: 200px;
  @media only screen and (min-width: 768px) {
    height: 44px;
    padding: 0px 10px;
    gap: 18px;
  }
`,$e=n.button`
  letter-spacing: -0.05em;
  line-height: calc(18 / 14);
  border: none;
  background-color: inherit;
  color: rgba(243, 243, 243, 0.3);
`,Re=n.button`
  font-size: 20px;
  letter-spacing: -0.05em;
  line-height: calc(18 / 14);
  border: none;
  background-color: inherit;
  color: rgba(243, 243, 243, 1);
`,Pe=n.span`
  color: #f3f3f3;
  font-size: 14px;
  line-height: calc(18 / 14);
  @media only screen and (min-width: 768px) {
    font-size: 17px;
    line-height: 1.56;
  }
`,Ue=n.ul`
  display: flex;
  gap: 18px;
  flex-direction: column;
  list-style: none;
  @media only screen and (min-width: 768px) {
    gap: 24px;
  }
`,We=n.div`
  position: relative;
  display: flex;
  gap: 8px;
  @media only screen and (min-width: 768px) {
    gap: 14px;
  }
`,Ne=n.input`
  padding-left: 18px;
  height: 50px;
  width: 100px;
  background-color: inherit;
  font-size: 14px;
  color: #f3f3f3;
  letter-spacing: -0.02em;
  outline: none;
  border: 1px solid rgba(243, 243, 243, 0.5);
  border-radius: 200px;
  box-sizing: border-box;
  @media only screen and (min-width: 768px) {
    padding-left: 24px;
    width: 150px;
    height: 56px;
    font-size: 17px;
    line-height: 1.56;
  }
`,Le=n.button`
  margin-left: auto;
  font-size: 32px;
  font-weight: 400;
  border: none;
  background-color: inherit;
  color: #f3f3f3;
  transform: rotate(45deg);
  @media only screen and (min-width: 768px) {
    font-size: 36px;
  }
`,M=n.p`
  margin-left: 18px;
  display: flex;
  align-items: flex-start;
  position: absolute;
  top: 54px;
  font-size: 12px;
  line-height: calc(14 / 12);
  letter-spacing: 0;
  color: #da1414;
  @media only screen and (min-width: 768px) {
    top: 64px;
    font-size: 14px;
    line-height: calc(18 / 14);
  }
`,Be=({styles:o,name:c,options:r,value:p,onChangeIngredientHandler:l})=>e.jsx(I,{styles:o,name:c,options:r,value:p,onChange:m=>{l(m.value,"title",m.id)}}),Me=({chosenIngredients:o,ingredients:c,index:r,onChangeHandler:p,deleteIngredient:l,chosenIngredientSelect:m,errors:s,setFieldValue:h})=>{var x,t,a,i,g,y,A,C;const f=(d,j)=>{let v=[...o];const F={[j]:d};v[r]=v[r]?Object.assign({},v[r],F):F,p(v,"ingredients"),h("ingredients",v)},u={dropdownIndicator:(d,j)=>({...d,transform:j.selectProps.menuIsOpen&&"rotate(180deg)"}),control:(d,j)=>({...d,width:"200px",height:"50px",background:"inherit",border:"1px solid rgba(243, 243, 243, 0.5)",borderRadius:"200px",fontSize:"14px",fontWeight:"400",lineHeight:"calc(18 / 14)",cursor:"pointer","@media only screen and (min-width: 768px)":{...j["@media only screen and (min-width: 768px)"],width:"332px",height:"56px",fontSize:"17px",lineHeight:"1.56"}}),menu:d=>({...d,padding:"0px 12px",right:"0px",backgroundColor:"#161f37",border:"0px solid transparent",borderColor:"red",borderRadius:"12px","@media only screen and (min-width: 768px)":{...d["@media only screen and (min-width: 768px)"],padding:"0px 18px"}}),indicatorSeparator:d=>({...d,display:"none"}),valueContainer:d=>({...d,padding:"0px 18px","@media only screen and (min-width: 768px)":{...d["@media only screen and (min-width: 768px)"],padding:"0px 24px"}}),singleValue:d=>({...d,color:"#f3f3f3"}),placeholder:d=>({...d,fontSize:s?"12px":"14px","@media only screen and (min-width: 768px)":{...d["@media only screen and (min-width: 768px)"],fontSize:"17px",lineHeight:"1.56"}}),option:(d,{isFocused:j,isSelected:v})=>({...d,fontSize:"14px","@media only screen and (min-width: 768px)":{...d["@media only screen and (min-width: 768px)"],fontSize:"17px"},lineHeight:"1.33",background:"transparent",color:j?"rgba(243, 243, 243, 0.75)":v?"#f3f3f3":"rgba(243, 243, 243, 0.4)"})};return e.jsxs(We,{children:[e.jsx(Be,{styles:u,name:"title",options:c,value:o[r].title===""?null:m,index:r,errors:s,onChangeIngredientHandler:f}),e.jsxs(M,{children:[((x=s==null?void 0:s.ingredients)==null?void 0:x.length)>0&&((t=s.ingredients[r])==null?void 0:t.title),((a=s==null?void 0:s.ingredients)==null?void 0:a.length)>0&&((i=s.ingredients[r])==null?void 0:i.title)&&e.jsx(k,{children:"!"})]}),e.jsxs("div",{children:[e.jsx(Ne,{type:"text",name:"measure",placeholder:"1 cl",title:"measure",value:o[r].measure===""?"":o[r].measure,onChange:d=>{f(d.target.value,"measure")}}),e.jsxs(M,{children:[((g=s==null?void 0:s.ingredients)==null?void 0:g.length)>0&&((y=s.ingredients[r])==null?void 0:y.measure),((A=s==null?void 0:s.ingredients)==null?void 0:A.length)>0&&((C=s.ingredients[r])==null?void 0:C.measure)&&e.jsx(k,{children:"!"})]})]}),e.jsx(Le,{type:"button",title:"Remove ungridient",onClick:()=>l(r),children:"+"})]})},Ge=({onChangeHandler:o,setFieldValue:c,errors:r})=>{const l=b(D).form,s=b(V).filter(t=>l.alcoholic==="Alcoholic"?t.alcohol:t.alcohol==="No"),f=s.filter(t=>t.title).map(t=>({value:t.title,label:t.title})),u=()=>{if(l.ingredients.length>=s.length)return;const t=[...l.ingredients];t.push({title:"",measure:""}),o(t,"ingredients"),c("ingredients",t)},x=t=>{if(l.ingredients.length!==1)if(t||t===0){const a=[...l.ingredients];a.splice(t,1),o(a,"ingredients")}else{const a=[...l.ingredients];a.pop(),c("ingredients",a),o(a,"ingredients")}};return e.jsxs(Fe,{children:[e.jsxs(Ee,{children:[e.jsx(Oe,{children:"Ingredients"}),e.jsxs(qe,{children:[e.jsx($e,{type:"button",onClick:()=>x(),children:"---"}),e.jsx(Pe,{children:l.ingredients.length}),e.jsx(Re,{type:"button",onClick:()=>u(),children:"+"})]})]}),e.jsx(Ue,{children:l.ingredients.map((t,a)=>e.jsx("li",{children:e.jsx(Me,{chosenIngredients:l.ingredients,onChangeHandler:o,ingredients:f,deleteIngredient:x,index:a,chosenIngredientSelect:{value:l.ingredients[a].title,label:l.ingredients[a].title},errors:r,setFieldValue:c})},a))})]})},He=({onChangeHandler:o,setFieldValue:c,errors:r})=>{const l=b(D).form;return e.jsxs(ke,{children:[e.jsx(ze,{children:"Recipe Preparation"}),e.jsx(De,{}),l.instructions?e.jsx(Te,{children:"Enter the recipe"}):e.jsxs(Ie,{children:[r.instructions,r.instructions&&e.jsx(k,{children:"!"})]}),e.jsx(Se,{name:"instructions",placeholder:"Enter the recipe",rows:6,value:l.instructions,onChange:m=>{c("instructions",m.target.value),o(m.target.value,m.target.name)}})]})},_e=q({drink:w().trim().required("This field is required"),description:w().required("This field is required"),category:w().required("This field is required"),glass:w().required("This field is required"),alcoholic:w().required("This field is required"),ingredients:ne().of(q({title:w().required("This field is required"),measure:w().required("This field is required")})),instructions:w().required("This field is required")}),Je=()=>{const o=te();let c=H();T.useEffect(()=>{o(_("categories")),o(J("glasses")),o(K("ingredients"))},[o]);const p=b(D).form,l=b(ee),[m,s]=T.useState(),h=(x,t)=>{if(!m){const i={...p};Object.assign(i,{drinkThumb:"src/images/dummyDrinkThumb.png"}),u(i,x,t);return}const a=new FormData;a.append("cocktail",m),o(Q(a)).then(i=>{if(typeof i.payload=="string"&&i.payload.startsWith("https://res.cloudinary.com")){const g={...p},y={drinkThumb:i.payload};Object.assign(g,y),u(g,x,t)}else console.log("Something get wront. Please, try upload image-type file, e.g. '.jpeg', '.png'");console.log(i.payload.message)})},f=(x,t)=>{const a={...p},i={[t]:x};Object.assign(a,i),o(E(a))},u=(x,t,a)=>{o(X(x,t)).then(i=>{if(i.payload.message==="drink added"){c("/my"),o(E(O)),a.resetForm({values:O});return}console.log(i.payload.message)})};return e.jsx(ge,{children:e.jsx(oe,{initialValues:p,validationSchema:_e,validateOnChange:!1,validateOnBlur:!1,onSubmit:h,children:({setFieldValue:x,errors:t})=>e.jsxs(re,{children:[e.jsx(Ce,{setFile:s,onChangeHandler:f,setFieldValue:x,errors:t}),e.jsx(Ge,{onChangeHandler:f,setFieldValue:x,errors:t}),e.jsx(He,{onChangeHandler:f,setFieldValue:x,errors:t}),e.jsx(he,{type:"submit",disabled:l===!0,title:"Add",children:"Add"})]})})})},ei=()=>e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsxs(de,{children:[e.jsx(ie,{title:"Add drink",marginMobile:"40px",marginTablet:"60px",marginDesktop:"60px"}),e.jsxs(ce,{children:[e.jsx(Je,{}),e.jsxs(pe,{children:[e.jsx(xe,{children:"Follow Us"}),e.jsx(se,{})]})]})]}),e.jsx(le,{})]});export{ei as default};
